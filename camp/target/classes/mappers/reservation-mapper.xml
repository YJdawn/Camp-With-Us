<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="reservationMapper">

<!-- 예약확인 예약테이블 조회용 -->
	<resultMap type="reservation" id="reservation_rm">
		<id property="name" column="RESERVATION_NO" />
		<result property="campingName" column="CAMPING_NM" />
		<result property="buyerName" column="RESERVATION_P" />
		<result property="amount" column="PAYMENT" />
		<result property="people" column="RESERVATION_NP" />
	</resultMap>


	<select id="selectPrice" resultType="_int">
	SELECT CAMPING_PR FROM PRICE 
	WHERE PEAK_SEASON = 'Y'
	</select>
	
	<insert id="reservationInfo" parameterType="reservation">
		INSERT INTO RESERVATION(
		RESERVATION_NO, CAMPING_NM, RESERVATION_P, RESERVATION_NP, PAYMENT) 
		VALUES(SEQ_RESERVATION_NO_S.NEXTVAL,
		#{campingName}, #{buyerName}, #{people}, #{amount})
	</insert>

	<select id="reservationSelect" resultMap="reservation_rm">
		SELECT * FROM RESERVATION
	</select>


</mapper>